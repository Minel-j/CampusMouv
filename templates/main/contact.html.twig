{% extends 'base.html.twig' %}

{% block title %}Contact | {{ parent() }}{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('styles/cafe.css') }}">
    <link rel="stylesheet" href="{{ asset('styles/owl.css') }}">
    <style>
        /* Responsive styles pour la tasse de thé */
        .container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
            transform: scale(0.8);
        }

        @media (max-width: 640px) {
            .container {
                transform: scale(0.6);
                min-height: 150px;
            }
        }

        @media (min-width: 641px) and (max-width: 960px) {
            .container {
                transform: scale(0.7);
                min-height: 180px;
            }
        }

        @media (min-width: 961px) {
            .container {
                transform: scale(0.9);
                min-height: 220px;
            }
        }

        /* Amélioration de la lisibilité sur mobile */
        @media (max-width: 640px) {
            .tea-invitation h2 {
                font-size: 1.5rem !important;
            }

            .tea-invitation p {
                font-size: 0.9rem;
                line-height: 1.5;
            }

            .contact-form-container h3 {
                font-size: 1.3rem !important;
            }
        }

        /* Espacement responsive */
        .responsive-padding {
            padding: 2rem 1rem;
        }

        @media (min-width: 641px) {
            .responsive-padding {
                padding: 3rem 2rem;
            }
        }

        @media (min-width: 961px) {
            .responsive-padding {
                padding: 4rem 3rem;
            }
        }

        /* Styles pour les champs de formulaire Symfony */
        .uk-form-stacked .uk-form-label {
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        @media (max-width: 640px) {
            .uk-form-stacked .uk-form-label {
                font-size: 0.8rem;
            }
        }

        /* Style pour le bouton de soumission */
        .submit-button {
            font-weight: 500;
            padding: 0.75rem 1.5rem;
        }

        @media (max-width: 640px) {
            .submit-button {
                padding: 0.5rem 1rem;
                font-size: 0.875rem;
            }
        }

        /* Correction des z-index pour éviter les chevauchements */
        .uk-box-shadow-medium {
            position: relative;
            z-index: 1;
        }

        .contact-hero {
            position: relative;
            z-index: 2;
        }

        .tea-invitation {
            position: relative;
            z-index: 1;
        }

        .contact-form-container {
            position: relative;
            z-index: 1;
        }

        /* Assurer que les cartes ne se chevauchent pas */
        .uk-card {
            position: relative;
            z-index: 1;
        }

        /* Fix pour les grids UIKit */
        .uk-grid > * {
            position: relative;
        }
    </style>
{% endblock %}

{% block main %}
    <!-- Hero Section avec invitation -->
    <div class="uk-container uk-margin-large-top uk-box-shadow-medium uk-margin-medium-bottom">
        <div class="contact-hero uk-padding-large uk-padding-medium@s uk-text-center">
            <h1 class="uk-heading-medium uk-heading-small@s uk-margin-remove-bottom" style="color: #4a5568;">
                Contactez-nous
            </h1>
            <p class="uk-text-large uk-text-small@s uk-margin-small-top" style="color: #666;">
                Nous serions ravis de partager un moment autour d'une tasse de thé avec vous
            </p>
        </div>
    </div>

    <!-- Section principale avec formulaire et invitation -->
    <div class="uk-container uk-box-shadow-medium uk-margin-medium-bottom">
        <div class="uk-grid-small uk-child-width-1-1 uk-child-width-1-2@xl uk-margin-small-bottom" uk-grid>

            <!-- Section invitation thé - apparaît en second sur mobile -->
            <div class="uk-box-shadow-medium uk-flex-last@s uk-flex-first@xl">
                <div class="tea-invitation responsive-padding">
                    <h2 class="uk-heading-small uk-heading-xsmall@s">Prenez un thé avec nous</h2>
                    <p class="uk-margin-medium-bottom uk-text-small@s">
                        Rien de mieux qu'une conversation chaleureuse autour d'une bonne tasse de thé.
                        Que ce soit pour discuter de vos projets, échanger des idées ou simplement faire
                        connaissance, nous vous invitons à venir partager ce moment convivial avec notre équipe.
                    </p>
                    <p class="uk-text-small@s">
                        <em>Le thé est prêt, il ne manque plus que vous !</em>
                    </p>

                    <!-- Animation de la tasse - responsive -->
                    <div class="container">
                        <div class="plate"></div>
                        <div class="cup">
                            <div class="top">
                                <div class="vapour">
                                    <span style="--i:1;"></span>
                                    <span style="--i:3;"></span>
                                    <span style="--i:16;"></span>
                                    <span style="--i:5;"></span>
                                    <span style="--i:20;"></span>
                                    <span style="--i:6;"></span>
                                    <span style="--i:7;"></span>
                                    <span style="--i:9;"></span>
                                    <span style="--i:10;"></span>
                                    <span style="--i:17;"></span>
                                    <span style="--i:11;"></span>
                                    <span style="--i:12;"></span>
                                    <span style="--i:13;"></span>
                                    <span style="--i:14;"></span>
                                    <span style="--i:2;"></span>
                                    <span style="--i:8;"></span>
                                    <span style="--i:15;"></span>
                                    <span style="--i:4;"></span>
                                    <span style="--i:19;"></span>
                                </div>
                                <div class="circle">
                                    <div class="tea"></div>
                                </div>
                            </div>
                            <div class="handle"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Formulaire de contact - apparaît en premier sur mobile -->
            <div class="uk-box-shadow-medium uk-flex-first@s uk-flex-last@xl">
                <div class="contact-form-container responsive-padding">
                    <h3 class="uk-heading-small uk-heading-xsmall@s uk-text-center uk-margin-medium-bottom"
                        style="color: #4a5568;">
                        Planifions notre rencontre
                    </h3>

                    <!-- Formulaire Symfony -->
                    {{ form_start(formContact, {'attr': {'class': 'uk-form-stacked'}}) }}

                    <div class="uk-margin">
                        {{ form_label(formContact.nom, null, {'attr': {'class': 'uk-form-label uk-text-small@s'}}) }}
                        <div class="uk-form-controls">
                            {{ form_widget(formContact.nom, {'attr': {'class': 'uk-input', 'placeholder': 'Votre nom complet'}}) }}
                        </div>
                        {{ form_errors(formContact.nom) }}
                    </div>

                    <div class="uk-margin">
                        {{ form_label(formContact.email, null, {'attr': {'class': 'uk-form-label uk-text-small@s'}}) }}
                        <div class="uk-form-controls">
                            {{ form_widget(formContact.email, {'attr': {'class': 'uk-input', 'placeholder': 'votre@email.com'}}) }}
                        </div>
                        {{ form_errors(formContact.email) }}
                    </div>

                    <div class="uk-margin">
                        {{ form_label(formContact.telephone, null, {'attr': {'class': 'uk-form-label uk-text-small@s'}}) }}
                        <div class="uk-form-controls">
                            {{ form_widget(formContact.telephone, {'attr': {'class': 'uk-input', 'placeholder': '0123456789'}}) }}
                        </div>
                        {{ form_errors(formContact.telephone) }}
                    </div>

                    <div class="uk-margin">
                        {{ form_label(formContact.sujet, null, {'attr': {'class': 'uk-form-label uk-text-small@s'}}) }}
                        <div class="uk-form-controls">
                            {{ form_widget(formContact.sujet, {'attr': {'class': 'uk-select'}}) }}
                        </div>
                        {{ form_errors(formContact.sujet) }}
                    </div>

                    <div class="uk-margin">
                        {{ form_label(formContact.description, null, {'attr': {'class': 'uk-form-label uk-text-small@s'}}) }}
                        <div class="uk-form-controls">
                            {{ form_widget(formContact.description, {'attr': {'class': 'uk-textarea', 'rows': '4', 'placeholder': 'Décrivez brièvement le sujet que vous aimeriez aborder autour de notre thé...'}}) }}
                        </div>
                        {{ form_errors(formContact.description) }}
                    </div>

                    <div class="uk-margin">
                        {{ form_label(formContact.the, null, {'attr': {'class': 'uk-form-label uk-text-small@s'}}) }}
                        <div class="uk-form-controls">
                            {{ form_widget(formContact.the, {'attr': {'class': 'uk-input', 'placeholder': 'Earl Grey, thé vert, tisane...'}}) }}
                        </div>
                        {{ form_errors(formContact.the) }}
                    </div>

                    <div class="uk-margin uk-text-center">
                        {{ form_widget(formContact.envoyer, {'attr': {'class': 'uk-button uk-button-primary uk-width-1-1 uk-button-small@s submit-button'}}) }}
                    </div>

                    {{ form_end(formContact) }}
                </div>
            </div>
        </div>
    </div>

    <!-- Section informations de contact -->
    <div class="uk-container uk-margin-large-top uk-margin-medium-bottom">
        <div class="uk-text-center">
            <div class="uk-child-width-1-1 uk-child-width-1-2@s uk-child-width-1-3@m uk-grid-match" uk-grid>
                <div>
                    <div class="uk-card uk-card-default uk-card-body uk-text-center uk-padding-small@s">
                        <img src="{{ asset('/images/logoMaison.png') }}" style="height: 50px" alt="Poufsouffle">
                        <h3 class="uk-card-title uk-text-small@s">Adresse</h3>
                        <p class="uk-text-small@s">
                            Salle commune de Poufsouffle<br>
                            Poudlard, baby
                        </p>
                    </div>
                </div>
                <div>
                    <div class="uk-card uk-card-default uk-card-body uk-text-center uk-padding-small@s">
                        <img src="{{ asset('/images/hibou.png') }}" style="height: 50px" alt="Hibou">
                        <h3 class="uk-card-title uk-text-small@s">Hibou</h3>
                        <button class="uk-button uk-button-primary uk-width-1-1 uk-button-small@s" onclick="callOwl()">
                            🦉 Appeler un hibou
                        </button>
                    </div>
                </div>
                <div>
                    <div class="uk-card uk-card-default uk-card-body uk-text-center uk-padding-small@s">
                        <img src="{{ asset('/images/courrier.jpg') }}" style="height: 50px" alt="Email">
                        <h3 class="uk-card-title uk-text-small@s">Email</h3>
                        <p class="uk-text-small@s">
                            <a href="mailto:contact@campusmouv.fr">contact@campusmouv.fr</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('/js/owl-game.js') }}"></script>
{% endblock %}